<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.css"
    />
    <script src="./dist/main.js"></script>
  </head>
  <body style="container">
    <div class="container">
      <h1>Hello Vue 3.0 reactivity</h1>
      <div class="row">
        <div class=column>val1: <input id="val1" type="text" /></div>
        <div class=column>val2: <input id="val2" type="text" /></div>
      </div>
      <h4>sum: <span id="sum"></span></h4>
      <h4>multiple: <span id="multiple"></span></h4>
    </div>

    <script>
      const values = reactive({ val1: 0, val2: 0 });

      // sum
      effect(() => {
        document.querySelector("#sum").textContent = values.val1 + values.val2;
      });

      // multiple
      effect(() => {
        document.querySelector("#multiple").textContent =
          values.val1 * values.val2;
      });

      // input listener val1
      document
        .querySelector("#val1")
        .addEventListener("input", ({ target: { value } }) => {
          values.val1 = Number(value);
        });

      // input listener val2
      document
        .querySelector("#val2")
        .addEventListener("input", ({ target: { value } }) => {
          values.val2 = Number(value);
        });
    </script>
  </body>
</html>
